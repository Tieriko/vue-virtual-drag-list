{"version":3,"file":"draglist.min.js","sources":["../src/plugins/states.js","../src/plugins/virtual.js","../node_modules/sortable-dnd/dist/sortable.min.js","../src/plugins/sortable.js","../src/props.js","../src/slots.js","../src/utils.js","../src/index.js"],"sourcesContent":["// scroll range\r\nexport class Range {\r\n  constructor() {\r\n    this.start = 0\r\n    this.end = 0\r\n    this.front = 0\r\n    this.behind = 0\r\n  } \r\n}\r\n\r\n// drag state\r\nexport class DragState {\r\n  constructor() {\r\n    this.from = { key: null, item: null, index: -1 }\r\n    this.to = { key: null, item: null, index: -1 }\r\n  }\r\n}\r\n\r\n// virtual state\r\nexport class CalcSize {\r\n  constructor() {\r\n    this.average = undefined // 计算首次加载每一项的评价高度\r\n    this.total = undefined // 首次加载的总高度\r\n    this.fixed = undefined // 记录固定高度值\r\n    this.header = undefined // 顶部插槽高度\r\n    this.footer = undefined // 底部插槽高度\r\n  }\r\n}","import { Range, CalcSize } from \"./states\"\r\n\r\nconst CACLTYPE = {\r\n  INIT: 'INIT',\r\n  FIXED: 'FIXED',\r\n  DYNAMIC: 'DYNAMIC'\r\n}\r\n\r\nconst DIRECTION = {\r\n  FRONT: 'FRONT',\r\n  BEHIND: 'BEHIND'\r\n}\r\n\r\nfunction Virtual(options, callback) {\r\n  this.options = options\r\n  this.callback = callback\r\n\r\n  this.sizes = new Map() // 用于存储列表项的高度\r\n  this.isHorizontal = options.isHorizontal // 是否为横向滚动\r\n\r\n  this.calcIndex = 0 // 记录上次计算的index\r\n  this.calcType = CACLTYPE.INIT // 记录列表项高度是动态还是静态\r\n  this.calcSize = new CalcSize\r\n\r\n  this.direction = '' // 滚动方向\r\n  this.offset = 0 // 记录滚动距离\r\n\r\n  this.range = new Range\r\n  if (options) this.checkIfUpdate(0, options.keeps - 1)\r\n}\r\n\r\nVirtual.prototype = {\r\n  construcrot: Virtual,\r\n\r\n  // --------------------------- update ------------------------------\r\n  updateUniqueKeys(value) {\r\n    this.options.uniqueKeys = value\r\n  },\r\n\r\n  // 更新 sizes，删除不在当前列表中的数据\r\n  updateSizes(uniqueKeys) {\r\n    this.sizes.forEach((v, k) => {\r\n      if (!uniqueKeys.includes(k)) this.sizes.delete(k)\r\n    })\r\n  },\r\n\r\n  updateRange() {\r\n    const start = Math.max(this.range.start, 0)\r\n    this.handleUpdate(start, this.getEndByStart(start))\r\n  },\r\n\r\n  // --------------------------- scroll ------------------------------\r\n  // 滚动事件\r\n  handleScroll(offset) {\r\n    this.direction = offset < this.offset ? DIRECTION.FRONT : DIRECTION.BEHIND\r\n    this.offset = offset\r\n\r\n    const scrolls = this.getScrollItems(offset)\r\n\r\n    if (this.isFront()) {\r\n      this.handleScrollFront(scrolls)\r\n    } else if (this.isBehind()) {\r\n      this.handleScrollBehind(scrolls)\r\n    }\r\n  },\r\n\r\n  isFront() {\r\n    return this.direction === DIRECTION.FRONT\r\n  },\r\n\r\n  isBehind() {\r\n    return this.direction === DIRECTION.BEHIND\r\n  },\r\n\r\n  getScrollItems(offset) {\r\n    const { fixed, header } = this.calcSize\r\n    // 减去顶部插槽高度\r\n    if (header) offset -= header\r\n    if (offset <= 0) return 0\r\n    // 固定高度\r\n    if (this.calcType === CACLTYPE.FIXED) return Math.floor(offset / fixed)\r\n    // 非固定高度使用二分查找\r\n    let low = 0, high = this.options.uniqueKeys.length\r\n    let middle = 0, middleOffset = 0\r\n    while (low <= high) {\r\n      middle = low + Math.floor((high - low) / 2)\r\n      middleOffset = this.getOffsetByIndex(middle)\r\n      if (middleOffset === offset) return middle\r\n      else if (middleOffset < offset) low = middle + 1\r\n      else if (middleOffset > offset) high = middle - 1\r\n    }\r\n    return low > 0 ? --low : 0\r\n  },\r\n\r\n  handleScrollFront(scrolls) {\r\n    if (scrolls > this.range.start) return\r\n    const start = Math.max(scrolls - Math.round(this.options.keeps / 3), 0)\r\n    this.checkIfUpdate(start, this.getEndByStart(start))\r\n  },\r\n\r\n  handleScrollBehind(scrolls) {\r\n    if (scrolls < this.range.start + Math.round(this.options.keeps / 3)) return\r\n    this.checkIfUpdate(scrolls, this.getEndByStart(scrolls))\r\n  },\r\n\r\n  checkIfUpdate(start, end) {\r\n    const { uniqueKeys, keeps } = this.options\r\n    if (uniqueKeys.length <= keeps) {\r\n      start = 0\r\n      end = uniqueKeys.length - 1\r\n    } else if (end - start < keeps - 1) {\r\n      start = end - keeps + 1\r\n    }\r\n    if (this.range.start !== start) this.handleUpdate(start, end)\r\n  },\r\n\r\n  handleUpdate(start, end) {\r\n    this.range.start = start\r\n    this.range.end = end\r\n    this.range.front = this.getFrontOffset()\r\n    this.range.behind = this.getBehindOffset()\r\n    this.callback({ ...this.range })\r\n  },\r\n\r\n  getFrontOffset() {\r\n    if (this.calcType === CACLTYPE.FIXED) {\r\n      return this.calcSize.fixed * this.range.start\r\n    } else {\r\n      return this.getOffsetByIndex(this.range.start)\r\n    }\r\n  },\r\n\r\n  getBehindOffset() {\r\n    const last = this.getLastIndex()\r\n    if (this.calcType === CACLTYPE.FIXED) {\r\n      return (last - this.range.end) * this.calcSize.fixed\r\n    }\r\n    if (this.calcIndex === last) {\r\n      return this.getOffsetByIndex(last) - this.getOffsetByIndex(this.range.end)\r\n    }\r\n    return (last - this.range.end) * this.getItemSize()\r\n  },\r\n\r\n  getOffsetByIndex(index) {\r\n    if (!index) return 0\r\n    let offset = 0\r\n    for (let i = 0; i < index; i++) {\r\n      const size = this.sizes.get(this.options.uniqueKeys[i])\r\n      offset = offset + (typeof size === 'number' ? size : this.getItemSize())\r\n    }\r\n    this.calcIndex = Math.max(this.calcIndex, index - 1)\r\n    this.calcIndex = Math.min(this.calcIndex, this.getLastIndex())\r\n    return offset\r\n  },\r\n\r\n  getEndByStart(start) {\r\n    return Math.min(start + this.options.keeps - 1, this.getLastIndex())\r\n  },\r\n\r\n  getLastIndex() {\r\n    return this.options.uniqueKeys.length - 1\r\n  },\r\n\r\n  // --------------------------- size ------------------------------\r\n  // 获取列表项的高度\r\n  getItemSize() {\r\n    return this.calcType === CACLTYPE.FIXED ? this.calcSize.fixed : (this.calcSize.average || this.options.size)\r\n  },\r\n\r\n  // 列表项高度变化\r\n  handleItemSizeChange(id, size) {\r\n    this.sizes.set(id, size)\r\n\r\n    // 'INIT' 状态表示每一项的高度都相同\r\n    if (this.calcType === CACLTYPE.INIT) {\r\n      this.calcType = CACLTYPE.FIXED // 固定高度\r\n      this.calcSize.fixed = size\r\n    } else if (this.calcType === CACLTYPE.FIXED && this.calcSize.fixed !== size) {\r\n      // 如果当前为 'FIXED' 状态并且 size 与固定高度不同，表示当前高度不固定，fixed值也就不需要了\r\n      this.calcType = CACLTYPE.DYNAMIC\r\n      this.calcSize.fixed = undefined\r\n    }\r\n    // 非固定高度的情况下，计算平均高度与总高度\r\n    if (this.calcType !== CACLTYPE.FIXED) {\r\n      this.calcSize.total = [...this.sizes.values()].reduce((t, i) => t + i, 0)\r\n      this.calcSize.average = Math.round(this.calcSize.total / this.sizes.size)\r\n    }\r\n  },\r\n  \r\n  // header 插槽高度变化\r\n  handleHeaderSizeChange(size) {\r\n    this.calcSize.header = size\r\n  },\r\n\r\n  // footer 插槽高度变化\r\n  handleFooterSizeChange(size) {\r\n    this.calcSize.footer = size\r\n  }\r\n}\r\n\r\nexport default Virtual","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).Sortable=e()}(this,function(){\"use strict\";function d(t){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,o){e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,\"prototype\",{writable:!1})}function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(o=\"Object\"===o&&t.constructor?t.constructor.name:o)||\"Set\"===o?Array.from(t):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function t(t){if(\"undefined\"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var a=t(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i),l=t(/Edge/i),f=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),e=t(/iP(ad|od|hone)/i),h=t(/chrome/i)&&t(/android/i),c={capture:!1,passive:!1},u=/\\s+/g,p=[\"-webkit-transition\",\"-moz-transition\",\"-ms-transition\",\"-o-transition\",\"transition\"],v=[\"-webkit-transform\",\"-moz-transform\",\"-ms-transform\",\"-o-transform\",\"transform\"];function m(e,o){o?\"none\"===o?p.forEach(function(t){return D(e,t,\"none\")}):p.forEach(function(t){return D(e,t,\"\".concat(t.split(\"transition\")[0],\"transform \").concat(o))}):p.forEach(function(t){return D(e,t,\"\")})}function g(e,o){o?v.forEach(function(t){return D(e,t,\"\".concat(t.split(\"transform\")[0]).concat(o))}):v.forEach(function(t){return D(e,t,\"\")})}function w(t,e,o,n){window.addEventListener?t.addEventListener(e,o,!(!n&&a)&&c):window.attachEvent&&t.attachEvent(\"on\"+e,o)}function y(t,e,o,n){window.removeEventListener?t.removeEventListener(e,o,!(!n&&a)&&c):window.detachEvent&&t.detachEvent(\"on\"+e,o)}function b(t){for(var e={top:0,left:0,height:0,width:0},o=(e.height=t.offsetHeight,e.width=t.offsetWidth,e.top=t.offsetTop,e.left=t.offsetLeft,t.offsetParent);null!==o;)e.top+=o.offsetTop,e.left+=o.offsetLeft,o=o.offsetParent;return e}function E(t){var e,o;if(t.getBoundingClientRect||t===window)return e={top:0,left:0,bottom:0,right:0,height:0,width:0},t!==window&&t.parentNode&&t!==(!(o=document.scrollingElement)||o.contains(document.body)?document:o)?(o=t.getBoundingClientRect(),e.top=o.top,e.left=o.left,e.bottom=o.bottom,e.right=o.right,e.height=o.height,e.width=o.width):(e.top=0,e.left=0,e.bottom=window.innerHeight,e.right=window.innerWidth,e.height=window.innerHeight,e.width=window.innerWidth),e}function S(t,e,o){var n=r(Array.from(t.children)),t=n.indexOf(e);if(-1<t)return o?n[t]:{index:t,el:n[t],rect:E(n[t]),offset:b(n[t])};for(var i=0;i<n.length;i++)if(function(t,e){var o;if(t&&e)for(o=t.parentNode;o;){if(e===o)return 1;o=o.parentNode}return}(e,n[i]))return o?n[i]:{index:i,el:n[i],rect:E(n[i]),offset:b(n[i])};return o?null:{index:-1,el:null,rect:{},offset:{}}}function _(t,e,o){var n;t&&e&&(t.classList?t.classList[o?\"add\":\"remove\"](e):(n=(\" \"+t.className+\" \").replace(u,\" \").replace(\" \"+e+\" \",\" \"),t.className=(n+(o?\" \"+e:\"\")).replace(u,\" \")))}function D(t,e,o){var n=t&&t.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,\"\"):t.currentStyle&&(o=t.currentStyle),void 0===e?o:o[e];n[e=e in n||-1!==e.indexOf(\"webkit\")?e:\"-webkit-\"+e]=o+(\"string\"==typeof o?\"\":\"px\")}}var x=function(){function t(){o(this,t),this.from={node:null,rect:{},offset:{}},this.to={node:null,rect:{},offset:{}}}return i(t,[{key:\"get\",value:function(t){return this[t]}},{key:\"set\",value:function(t,e){this[t]=e}},{key:\"destroy\",value:function(){this.from={node:null,rect:{},offset:{}},this.to={node:null,rect:{},offset:{}}}}]),t}(),$=function(){function e(t){o(this,e),this.options=t,this.diff={x:0,y:0},this.position={x:0,y:0},this.exist=!1}return i(e,[{key:\"init\",value:function(t,e){var o,n;this.$el&&this.$el.remove(),t&&(this.$el=t,o=(t=this.options).ghostClass,t=void 0===(t=t.ghostStyle)?{}:t,n=e.width,e=e.height,this.$el.class=o,this.$el.style.width=n+\"px\",this.$el.style.height=e+\"px\",this.$el.style.position=\"fixed\",this.$el.style.left=0,this.$el.style.top=0,this.$el.style.zIndex=1e5,this.$el.style.opacity=.8,this.$el.style.pointerEvents=\"none\",this.$el.style.cursor=\"move\",m(this.$el,\"none\"),g(this.$el,\"translate3d(0px, 0px, 0px)\"),this.setStyle(t))}},{key:\"setPosition\",value:function(t,e){this.position={x:t-this.diff.x,y:e-this.diff.y}}},{key:\"setStyle\",value:function(t){for(var e in t)D(this.$el,e,t[e])}},{key:\"rect\",value:function(){return E(this.$el)}},{key:\"move\",value:function(t){var e;this.$el&&(e=this.options.ghostAnimation,m(this.$el,t?\"\".concat(e,\"ms\"):\"none\"),this.exist||(document.body.appendChild(this.$el),this.exist=!0),g(this.$el,\"translate3d(\".concat(this.position.x,\"px, \").concat(this.position.y,\"px, 0)\")),\"move\"!==this.$el.style.cursor&&(this.$el.style.cursor=\"move\"))}},{key:\"destroy\",value:function(t){var e=this,t=(t&&(this.position={x:t.left,y:t.top},this.move(!0)),this.options.ghostAnimation);t?setTimeout(function(){return e.clear()},t):this.clear()}},{key:\"clear\",value:function(){this.$el&&this.$el.remove(),this.$el=null,this.diff={x:0,y:0},this.position={x:0,y:0},this.exist=!1}}]),e}();function P(){var i=[];return{captureAnimationState:function(){var t=r(Array.from(this.$el.children)),e=(o=t,n=this.dragEl,e=this.dropEl,n=o.indexOf(n),o=o.indexOf(e),n<o?{start:n,end:o}:{start:o,end:n}),o=e.start,n=e.end;i.length=0,t.slice(o,n+1).forEach(function(t){i.push({target:t,rect:E(t)})})},animateRange:function(){var o=this;i.forEach(function(t){var e=t.target,t=t.rect;o.animate(e,t,o.animation)})},animate:function(t,e){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:150,n=E(t),i=e.left-n.left,e=e.top-n.top;m(t,\"none\"),g(t,\"translate3d(\".concat(i,\"px, \").concat(e,\"px, 0)\")),t.offsetLeft,m(t,\"\".concat(o,\"ms\")),g(t,\"translate3d(0px, 0px, 0px)\"),clearTimeout(t.animated),t.animated=setTimeout(function(){m(t,\"\"),g(t,\"\"),t.animated=null},o)}}}var M=\"undefined\"!=typeof document&&!h&&!e&&\"draggable\"in document.createElement(\"div\");function O(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw\"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(t));this.$el=t,this.options=e=Object.assign({},e),this.dragEl=null,this.dropEl=null,this.differ=null,this.ghost=null;var o,n,i={delay:0,delayOnTouchOnly:!1,disabled:!1,animation:150,ghostAnimation:0,ghostClass:\"\",ghostStyle:{},chosenClass:\"\",draggable:void 0,dragging:void 0,onDrag:void 0,onMove:void 0,onDrop:void 0,onChange:void 0,forceFallback:!1,stopPropagation:!1,supportPassive:(o=!1,document.addEventListener(\"checkIfSupportPassive\",null,{get passive(){return o=!0}}),o),supportPointer:\"PointerEvent\"in window&&!f,supportTouch:\"ontouchstart\"in window,ownerDocument:this.$el.ownerDocument};for(n in i)n in this.options||(this.options[n]=i[n]);this.nativeDraggable=!this.options.forceFallback&&M,this.differ=new x,this.ghost=new $(this.options),Object.assign(this,P(),{_bindEventListener:function(){this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onDrop=this._onDrop.bind(this);var t=this.options,e=t.supportPointer,o=t.supportTouch,t=t.supportPassive;w(this.$el,e?\"pointerdown\":o?\"touchstart\":\"mousedown\",this._onStart,t)},_unbindEventListener:function(){var t=this.options.supportPassive;y(this.$el,\"pointerdown\",this._onStart,t),y(this.$el,\"touchstart\",this._onStart,t),y(this.$el,\"mousedown\",this._onStart,t)},_bindMoveEvents:function(t){var e=this.options,o=e.supportPointer,n=e.ownerDocument,e=e.supportPassive;w(n,o?\"pointermove\":t?\"touchmove\":\"mousemove\",this._onMove,e)},_bindUpEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;w(e,\"pointerup\",this._onDrop,t),w(e,\"pointercancel\",this._onDrop,t),w(e,\"touchend\",this._onDrop,t),w(e,\"touchcancel\",this._onDrop,t),w(e,\"mouseup\",this._onDrop,t)},_unbindMoveEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;y(e,\"pointermove\",this._onMove,t),y(e,\"touchmove\",this._onMove,t),y(e,\"mousemove\",this._onMove,t)},_unbindUpEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;y(e,\"pointerup\",this._onDrop,t),y(e,\"pointercancel\",this._onDrop,t),y(e,\"touchend\",this._onDrop,t),y(e,\"touchcancel\",this._onDrop,t),y(e,\"mouseup\",this._onDrop,t)}}),this._bindEventListener(),this._handleDestroy()}return O.prototype={constructor:O,destroy:function(){this._unbindEventListener(),this._resetState()},_onStart:function(t){var e=this.options,o=e.delay,n=e.disabled,i=e.stopPropagation,e=e.delayOnTouchOnly;if(!(/mousedown|pointerdown/.test(t.type)&&0!==t.button||n)){var n=t.touches&&t.touches[0]||t.pointerType&&\"touch\"===t.pointerType&&t,r=n||t;if(this.nativeDraggable||!f||!r.target||\"SELECT\"!==r.target.tagName.toUpperCase()){if(r.target===this.$el)return!0;i&&t.stopPropagation(),!o||e&&!n||this.nativeDraggable&&(l||a)?this._onDrag(r,n):this.dragStartTimer=setTimeout(this._onDrag(r,n),o)}}},_onDrag:function(t,e){var o=this.options,n=o.draggable,o=o.dragging;if(\"function\"==typeof n){if(!n(t))return!0}else if(\"string\"==typeof n){if(!function(t,e){if(e&&(\">\"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}(t.target,n))return!0}else if(void 0!==n)throw new Error('draggable expected \"function\" or \"string\" but received \"'.concat(d(n),'\"'));try{document.selection?setTimeout(function(){document.selection.empty()},0):window.getSelection().removeAllRanges()}catch(t){throw new Error(t)}if(o){if(\"function\"!=typeof o)throw new Error('dragging expected \"function\" or \"string\" but received \"'.concat(d(o),'\"'));this.dragEl=o(t)}else this.dragEl=S(this.$el,t.target,!0);if(!this.dragEl||this.dragEl.animated)return!0;n=S(this.$el,this.dragEl),o=n.rect,n=n.offset;window.sortableDndOnDownState=!0,this.ghost.setPosition(o.left,o.top),this.ghost.diff={x:t.clientX-o.left,y:t.clientY-o.top},this.differ.from={node:this.dragEl,rect:o,offset:n},this._bindMoveEvents(e),this._bindUpEvents(e)},_onMove:function(t){void 0!==t.preventDefault&&t.preventDefault();var e=this.options,o=e.chosenClass,n=e.stopPropagation,i=e.onMove,e=e.onDrag,n=(n&&t.stopPropagation(),t.touches&&t.touches[0]),r=n||t,s=r.clientX,a=r.clientY,n=n?document.elementFromPoint(s,a):r.target;if(!this.ghost.$el&&(this.ghost.init(this.dragEl.cloneNode(!0),this.differ.from.rect),void 0!==e)){if(\"function\"!=typeof e)throw new Error('onDrag expected \"function\" but received \"'.concat(d(e),'\"'));e(this.dragEl,r,t)}if(void 0!==i){if(\"function\"!=typeof i)throw new Error('onMove expected \"function\" but received \"'.concat(d(i),'\"'));i(this.differ.from,this.ghost.$el,r,t)}if(_(this.dragEl,o,!0),this.ghost.move(),window.sortableDndOnDownState&&!(s<0||a<0)){window.sortableDndOnMoveState=!0,this.ghost.setPosition(s,a),this.ghost.move();e=E(this.$el);if(s<e.left||s>e.right||a<e.top||a>e.bottom)this.ghost.setStyle({cursor:\"not-allowed\"});else{var i=S(this.$el,n),o=i.index,e=i.el,n=i.rect,i=i.offset,l=n.left,f=n.right,h=n.top,c=n.bottom;if(e&&!(o<0)&&(this.dropEl=e,l<s&&s<f&&h<a&&a<c&&e!==this.dragEl&&(this.differ.to={node:this.dropEl,rect:n,offset:i},!e.animated))){this.captureAnimationState();o=this.options.onChange,l=b(this.dragEl);if(void 0!==o){if(\"function\"!=typeof o)throw new Error('onChange expected \"function\" but received \"'.concat(d(o),'\"'));o(this.differ.from,this.differ.to,r,t)}l.top<i.top||l.left<i.left?this.$el.insertBefore(this.dragEl,e.nextElementSibling):this.$el.insertBefore(this.dragEl,e),this.animateRange()}}}},_onDrop:function(t){this._unbindMoveEvents(),this._unbindUpEvents(),clearTimeout(this.dragStartTimer);var e=this.options,o=e.onDrop,n=e.chosenClass;if(e.stopPropagation&&t.stopPropagation(),_(this.dragEl,n,!1),window.sortableDndOnDownState&&window.sortableDndOnMoveState){this.differ.to.offset=b(this.dragEl),this.differ.to.rect=E(this.dragEl);e=this.differ,n=e.from,e=e.to,n=n.offset.top!==e.offset.top||n.offset.left!==e.offset.left;if(void 0!==o){if(\"function\"!=typeof o)throw new Error('onDrop expected \"function\" but received \"'.concat(d(o),'\"'));o(n,t)}this.ghost.destroy(E(this.dragEl))}this.differ.destroy(),this._removeWindowState()},_resetState:function(){this.dragEl=null,this.dropEl=null,this.ghost.destroy(),this.differ.destroy(),this._removeWindowState()},_removeWindowState:function(){window.sortableDndOnDownState=null,window.sortableDndOnMoveState=null,window.sortableDndAnimationEnd=null,delete window.sortableDndOnDownState,delete window.sortableDndOnMoveState,delete window.sortableDndAnimationEnd},_handleDestroy:function(){var t=this,e=null,o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(o){var n=this.options.ownerDocument;if(!n)return;(e=new o(function(){n.body.contains(t.$el)||(e.disconnect(),e=null,t._unbindEventListener(),t._resetState())})).observe(this.$el.parentNode,{childList:!0,attributes:!1,subtree:!1})}window.onbeforeunload=function(){e&&e.disconnect(),e=null,t._unbindEventListener(),t._resetState()}}},O});\n","import SortableDnd from 'sortable-dnd'\r\nimport { DragState } from './states'\r\n\r\nfunction Sortable(options, onDrag, onDrop) {\r\n  this.options = options\r\n  this.onDrag = onDrag\r\n  this.onDrop = onDrop\r\n\r\n  this.list = options.list\r\n  this.getDataKey = options.getDataKey\r\n\r\n  this.drag = null\r\n  this.dragElement = null\r\n  this.dragState = new DragState\r\n  this.rangeIsChanged = false\r\n\r\n  this.init()\r\n}\r\n\r\nSortable.prototype = {\r\n  constructor: Sortable,\r\n\r\n  init() {\r\n    const {\r\n      disabled,\r\n      dragging,\r\n      draggable,\r\n      ghostClass,\r\n      ghostStyle,\r\n      chosenClass,\r\n      animation\r\n    } = this.options\r\n\r\n    let cloneList = new Array()\r\n    this.drag = new SortableDnd(\r\n      this.options.scrollEl,\r\n      {\r\n        disabled,\r\n        dragging,\r\n        draggable,\r\n        ghostClass,\r\n        ghostStyle,\r\n        chosenClass,\r\n        animation,\r\n        \r\n        onDrag: (dragEl) => {\r\n          this.dragElement = dragEl\r\n          cloneList = [...this.list]\r\n\r\n          const key = dragEl.getAttribute('data-key')\r\n          const index = this.list.findIndex(el => this.getDataKey(el) == key)\r\n          const item = this.list[index]\r\n          Object.assign(this.dragState.from, { item, index, key })\r\n\r\n          this.rangeIsChanged = false\r\n\r\n          // drag\r\n          this.onDrag(this.dragState.from)\r\n        },\r\n        onChange: (_old_, _new_) => {\r\n          const oldKey = this.dragState.from.key\r\n          const newKey = _new_.node.getAttribute('data-key')\r\n\r\n          const from = { item: null, index: -1 }\r\n          const to = { item: null, index: -1 }\r\n\r\n          cloneList.forEach((el, index) => {\r\n            const key = this.getDataKey(el)\r\n            if (key == oldKey) Object.assign(from, { item: el, index })\r\n            if (key == newKey) Object.assign(to, { item: el, index })\r\n          })\r\n\r\n          cloneList.splice(from.index, 1)\r\n          cloneList.splice(to.index, 0, from.item)\r\n        },\r\n        onDrop: (changed) => {\r\n          if (this.rangeIsChanged && this.dragElement) this.dragElement.remove()\r\n\r\n          const { from } = this.dragState\r\n          const index = cloneList.findIndex(el => this.getDataKey(el) == from.key)\r\n          const item = this.list[index]\r\n          this.dragState.to = { index, item, key: this.getDataKey(item) }\r\n\r\n          // drop \r\n          this.onDrop(cloneList, from, this.dragState.to, changed)\r\n\r\n          this.list = [...cloneList]\r\n          this.clear()\r\n        }\r\n      }\r\n    )\r\n  },\r\n\r\n  clear() {\r\n    this.dragElement = null\r\n    this.rangeIsChanged = false\r\n    this.dragState = new DragState\r\n  },\r\n\r\n  destroy() {\r\n    this.drag && this.drag.destroy()\r\n    this.drag = null\r\n  }\r\n}\r\n\r\nexport default Sortable","export const VirtualProps = {\r\n  // 列表数据\r\n  dataSource: {\r\n    type: Array,\r\n    default: () => {\r\n      return []\r\n    }\r\n  },\r\n  // 每一项的key值键值\r\n  dataKey: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  direction: {\r\n    type: String,\r\n    default: 'vertical' // 纵向滚动(vertical)还是横向滚动(horizontal)\r\n  },\r\n  // 列表展示多少条数据，为0或者不传会自动计算\r\n  keeps: {\r\n    type: Number,\r\n    default: 30\r\n  },\r\n  // 每一行预估高度\r\n  size: {\r\n    type: Number\r\n  },\r\n  // 防抖延迟时间\r\n  delay: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  rootTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  wrapTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  wrapClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  wrapStyle: {\r\n    type: Object\r\n  },\r\n  headerTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  footerTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  itemTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  itemStyle: {\r\n    type: Object\r\n  },\r\n  itemClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  // 禁用拖拽？\r\n  disabled: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  draggable: {\r\n    type: [Function, String]\r\n  },\r\n  dragging: {\r\n    type: Function\r\n  },\r\n  ghostClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  // 拖拽时的样式\r\n  ghostStyle: {\r\n    type: Object,\r\n    default: () => {\r\n      return {}\r\n    }\r\n  },\r\n  chosenClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  animation: {\r\n    type: Number,\r\n    default: 150\r\n  }\r\n}\r\n\r\nexport const SlotsProps = {\r\n  tag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  event: {\r\n    type: String\r\n  },\r\n  dataKey: {\r\n    type: [String, Number]\r\n  },\r\n  isHorizontal: {\r\n    type: Boolean\r\n  }\r\n}","import Vue from 'vue'\r\nimport { SlotsProps } from './props'\r\n\r\nconst observer = {\r\n  inject: ['virtualList'],\r\n  data () {\r\n    return {\r\n      observer: null\r\n    }\r\n  },\r\n  mounted () {\r\n    if (typeof ResizeObserver !== 'undefined') {\r\n      this.observer = new ResizeObserver(() => {\r\n        this.onSizeChange()\r\n      })\r\n      this.$el && this.observer.observe(this.$el)\r\n    }\r\n  },\r\n  updated () {\r\n    this.onSizeChange()\r\n  },\r\n  beforeDestroy () {\r\n    if (this.observer) {\r\n      this.observer.disconnect()\r\n      this.observer = null\r\n    }\r\n  },\r\n  methods: {\r\n    onSizeChange () {\r\n      this.virtualList[this.event](this.dataKey, this.getCurrentSize())\r\n    },\r\n    getCurrentSize () {\r\n      const sizeKey = this.isHorizontal ? 'offsetWidth' : 'offsetHeight'\r\n      return this.$el ? this.$el[sizeKey] : 0\r\n    }\r\n  }\r\n}\r\n\r\nexport const Items = Vue.component('virtual-draglist-items', {\r\n  mixins: [observer],\r\n  props: SlotsProps,\r\n  render (h) {\r\n    const { tag, dataKey } = this\r\n    return h(tag, {\r\n      key: dataKey,\r\n      attrs: {\r\n        'data-key': dataKey\r\n      },\r\n    }, this.$slots.default)\r\n  }\r\n})\r\n\r\nexport const Slots = Vue.component('virtual-draglist-slots', {\r\n  mixins: [observer],\r\n  props: SlotsProps,\r\n  render (h) {\r\n    const { tag, dataKey } = this\r\n    return h(tag, {\r\n      key: dataKey,\r\n      attrs: {\r\n        role: dataKey\r\n      }\r\n    }, this.$slots.default)\r\n  }\r\n})\r\n","/**\r\n * 防抖\r\n * @param {Function} func callback function\r\n * @param {Number} delay delay time\r\n * @param {Boolean} immediate whether to execute immediately\r\n * @returns function\r\n */\r\nexport function debounce(func, delay = 50, immediate = false){\r\n  let timer = null\r\n  let result\r\n  let debounced = function(...args){\r\n    if(timer) clearTimeout(timer)\r\n    if(immediate){\r\n      let callNow = !timer\r\n      timer = setTimeout(()=>{\r\n        timer = null\r\n      }, delay)\r\n      if(callNow) result = func.apply(this, args)\r\n    } else{\r\n      timer = setTimeout(()=>{\r\n        func.apply(this, args)\r\n      }, delay)\r\n    }\r\n    return result\r\n  }\r\n  debounced.cancel = function(){\r\n    clearTimeout(timer)\r\n    timer = null\r\n  }\r\n  return debounced\r\n}\r\n\r\nexport default {\r\n  debounce\r\n}","import Vue from 'vue'\r\nimport Virtual from './plugins/virtual'\r\nimport Sortable from './plugins/sortable'\r\nimport { Range, DragState } from './plugins/states'\r\nimport { VirtualProps } from './props'\r\nimport { Slots, Items } from './slots'\r\nimport { debounce } from './utils'\r\n\r\nconst VirtualDragList = Vue.component('virtual-drag-list', {\r\n  props: VirtualProps,\r\n  data() {\r\n    return {\r\n      list: [], // 将dataSource克隆一份\r\n      uniqueKeys: [], // 通过dataKey获取所有数据的唯一键值\r\n      virtual: null,\r\n      sortable: null,\r\n\r\n      range: new Range,\r\n      dragState: new DragState\r\n    }\r\n  },\r\n  provide() {\r\n    return {\r\n      virtualList: this\r\n    }\r\n  },\r\n  computed: {\r\n    isHorizontal() {\r\n      return this.direction !== 'vertical'\r\n    },\r\n    scrollSizeKey() {\r\n      return this.isHorizontal ? 'scrollWidth' : 'scrollHeight'\r\n    },\r\n    scrollDirectionKey() {\r\n      return this.isHorizontal ? 'scrollLeft' : 'scrollTop'\r\n    },\r\n    offsetSizeKey() {\r\n      return this.isHorizontal ? 'offsetLeft' : 'offsetTop'\r\n    },\r\n    clientSizeKey() {\r\n      return this.isHorizontal ? 'clientWidth' : 'clientHeight'\r\n    }\r\n  },\r\n  watch: {\r\n    dataSource: {\r\n      handler(val) {\r\n        this.init(val)\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    disabled: {\r\n      handler(val) {\r\n        if (!val) this.$nextTick(() => this._initSortable())\r\n        else this._destroySortable()\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this._destroySortable()\r\n  },\r\n  methods: {\r\n    // --------------------------- emits ------------------------------\r\n    /**\r\n     * reset component\r\n     */\r\n    reset() {\r\n      this.scrollToTop()\r\n      this.init(this.dataSource)\r\n    },\r\n    /**\r\n     * git item size by data-key\r\n     * @param {String | Number} key data-key \r\n     */\r\n    getSize(key) {\r\n      return this.virtual.sizes.get(key)\r\n    },\r\n    /**\r\n     * Get the current scroll height\r\n     */\r\n    getOffset() {\r\n      const { root } = this.$refs\r\n      return root ? Math.ceil(root[this.scrollDirectionKey]) : 0\r\n    },\r\n    /**\r\n     * Scroll to top of list\r\n     */\r\n    scrollToTop() {\r\n      const { root } = this.$refs\r\n      root[this.scrollDirectionKey] = 0\r\n    },\r\n    /**\r\n     * Scroll to bottom of list\r\n     */\r\n    scrollToBottom() {\r\n      const { bottomItem, root } = this.$refs\r\n      if (bottomItem) {\r\n        const bottom = bottomItem[this.offsetSizeKey]\r\n        this.scrollToOffset(bottom)\r\n\r\n        // 第一次滚动高度可能会发生改变，如果没到底部再执行一次滚动方法\r\n        setTimeout(() => {\r\n          const offset = this.getOffset()\r\n          const clientSize = Math.ceil(root[this.clientSizeKey])\r\n          const scrollSize = Math.ceil(root[this.scrollSizeKey])\r\n          if (offset + clientSize < scrollSize) this.scrollToBottom()\r\n        }, this.delay + 3)\r\n      }\r\n    },\r\n    /**\r\n     * Scroll to the specified index position\r\n     * @param {Number} index \r\n     */\r\n    scrollToIndex(index) {\r\n      if (index >= this.list.length - 1) {\r\n        this.scrollToBottom()\r\n      } else {\r\n        const indexOffset = this.virtual.getOffsetByIndex(index)\r\n        this.scrollToOffset(indexOffset)\r\n\r\n        setTimeout(() => {\r\n          const offset = this.getOffset()\r\n          const indexOffset = this.virtual.getOffsetByIndex(index)\r\n          if (offset !== indexOffset) this.scrollToIndex(index)\r\n        }, this.delay + 3)\r\n      }\r\n    },\r\n    /**\r\n     * Scroll to the specified offset\r\n     * @param {Number} offset \r\n     */\r\n    scrollToOffset(offset) {\r\n      const { root } = this.$refs\r\n      root[this.scrollDirectionKey] = offset\r\n    },\r\n\r\n    /**\r\n     * callback function after drop\r\n     */\r\n    handleDragEnd(list, _old, _new, changed) {\r\n      this.$emit('ondragend', list, _old, _new, changed)\r\n    },\r\n\r\n    // --------------------------- init ------------------------------\r\n    init(list) {\r\n      this.list = [...list]\r\n      this._updateUniqueKeys()\r\n      this._initVirtual()\r\n      // sortable init\r\n      if (this.sortable) this.sortable.list = [...list]\r\n    },\r\n\r\n    // virtual\r\n    _initVirtual() {\r\n      this.virtual = null\r\n      this.virtual = new Virtual(\r\n        {\r\n          size: this.size,\r\n          keeps: this.keeps,\r\n          uniqueKeys: this.uniqueKeys,\r\n          isHorizontal: this.isHorizontal\r\n        },\r\n        (range) => {\r\n          this.range = range\r\n          const { start, end } = this.range\r\n          const { index } = this.dragState.from\r\n          if (index > -1 && !(index >= start && index <= end)) {\r\n            if (this.sortable) this.sortable.rangeIsChanged = true\r\n          }\r\n        }\r\n      )\r\n      this.virtual.updateSizes(this.uniqueKeys)\r\n      this.virtual.updateRange()\r\n    },\r\n\r\n    // sortable\r\n    _initSortable() {\r\n      this._destroySortable()\r\n      this.sortable = new Sortable(\r\n        {\r\n          scrollEl: this.$refs.group,\r\n          getDataKey: this._getDataKey,\r\n          list: this.list,\r\n\r\n          disabled: this.disabled,\r\n          dragging: this.dragging,\r\n          draggable: this.draggable,\r\n          ghostClass: this.ghostClass,\r\n          ghostStyle: this.ghostStyle,\r\n          chosenClass: this.chosenClass,\r\n          animation: this.animation,\r\n        },\r\n        (from) => {\r\n          // on drag\r\n          this.dragState.from = from\r\n        },\r\n        (list, from, to, changed) => {\r\n          // on drop\r\n          this.dragState.from = from\r\n          this.dragState.to = to\r\n          this.handleDragEnd(list, from, to, changed)\r\n          if (changed) {\r\n            this.list = [...list]\r\n            this._updateUniqueKeys()\r\n            this.virtual.updateUniqueKeys(this.uniqueKeys)\r\n          }\r\n          setTimeout(() => this.dragState = new DragState, this.delay + 10)\r\n        }\r\n      )\r\n    },\r\n\r\n    _destroySortable() {\r\n      this.sortable && this.sortable.destroy()\r\n      this.sortable = null\r\n    },\r\n\r\n    // --------------------------- handle scroll ------------------------------\r\n    _handleScroll() {\r\n      // mouseup 事件时会触发scroll事件，这里处理为了防止range改变导致页面滚动\r\n      if (this.dragState.to.key) return\r\n\r\n      const { root } = this.$refs\r\n      const offset = this.getOffset()\r\n      const clientSize = Math.ceil(root[this.clientSizeKey])\r\n      const scrollSize = Math.ceil(root[this.scrollSizeKey])\r\n      // 如果不存在滚动元素 || 滚动高度小于0 || 超出最大滚动距离\r\n      if (!scrollSize || offset < 0 || (offset + clientSize > scrollSize + 1)) return\r\n\r\n      this.virtual.handleScroll(offset)\r\n\r\n      if (this.virtual.isFront()) {\r\n        if (!!this.list.length && offset <= 0) this.handleToTop(this)\r\n      } else if (this.virtual.isBehind()) {\r\n        if (clientSize + offset >= scrollSize) this.handleToBottom(this)\r\n      }\r\n    },\r\n\r\n    handleToTop: debounce((_this) => {\r\n      _this.$emit('top')\r\n    }),\r\n\r\n    handleToBottom: debounce((_this) => {\r\n      _this.$emit('bottom')\r\n    }),\r\n\r\n    // --------------------------- handle size change ------------------------------\r\n    _onItemResized(id, size) {\r\n      this.virtual.handleItemSizeChange(id, size)\r\n    },\r\n    _onHeaderResized(id, size) {\r\n      this.virtual.handleHeaderSizeChange(size)\r\n    },\r\n    _onFooterResized(id, size) {\r\n      this.virtual.handleFooterSizeChange(size)\r\n    },\r\n\r\n    // --------------------------- methods ------------------------------\r\n    _updateUniqueKeys() {\r\n      this.uniqueKeys = this.list.map(item => this._getDataKey(item))\r\n    },\r\n    _getDataKey(obj) {\r\n      const { dataKey } = this\r\n      return (\r\n        !Array.isArray(dataKey)\r\n          ? dataKey.replace(/\\[/g, '.').replace(/\\]/g, '.').split('.')\r\n          : dataKey).reduce((o, k) => (o || {})[k], obj\r\n      )\r\n    },\r\n    _getItemIndex(item) {\r\n      return this.list.findIndex(el => this._getDataKey(item) == this._getDataKey(el))\r\n    },\r\n    _getItemStyle(itemKey) {\r\n      const { key } = this.dragState.from\r\n      if (this.sortable && this.sortable.rangeIsChanged && itemKey == key)\r\n        return { display: 'none' }\r\n      return {}\r\n    }\r\n  },\r\n  // --------------------------- render ------------------------------\r\n  render (h) {\r\n    const { header, footer } = this.$slots\r\n    const { start, end, front, behind } = this.range\r\n    const { isHorizontal, headerTag, footerTag, itemTag, rootTag, wrapTag, itemStyle, itemClass, wrapClass } = this\r\n    const wrapStyle = { ...this.wrapStyle, padding: isHorizontal ? `0px ${behind}px 0px ${front}px` : `${front}px 0px ${behind}px`}\r\n\r\n    return h(rootTag, {\r\n      ref: 'root',\r\n      style: { overflow: isHorizontal ? 'auto hidden' : 'hidden auto' },\r\n      on: {\r\n        '&scroll': debounce(this._handleScroll, this.delay)\r\n      }\r\n    }, [\r\n      // 顶部插槽 \r\n      header ? h(Slots, {\r\n        props: {\r\n          tag: headerTag,\r\n          dataKey: 'header',\r\n          event: '_onHeaderResized'\r\n        }\r\n      }, header) : null,\r\n      \r\n      // 中间内容区域和列表项\r\n      h(wrapTag, {\r\n        ref: 'group',\r\n        attrs: { role: 'group' },\r\n        class: wrapClass,\r\n        style: wrapStyle,\r\n      }, this.list.slice(start, end + 1).map(record => {\r\n        const index = this._getItemIndex(record)\r\n        const dataKey = this._getDataKey(record)\r\n        const props = { isHorizontal, dataKey, tag: itemTag, event: '_onItemResized', }\r\n\r\n        return this.$scopedSlots.item ? \r\n          h(Items, {\r\n            key: dataKey,\r\n            props: props,\r\n            style: { ...itemStyle, ...this._getItemStyle(dataKey) },\r\n            class: itemClass\r\n          }, this.$scopedSlots.item({ record, index, dataKey }))\r\n          : \r\n          h(itemTag, {\r\n            key: dataKey,\r\n            attrs: { 'data-key': dataKey },\r\n            style: { ...itemStyle, height: `${this.size}px` },\r\n            class: itemClass\r\n          }, dataKey)\r\n        })\r\n      ),\r\n\r\n      // 底部插槽 \r\n      footer ? h(Slots, {\r\n        props: {\r\n          tag: footerTag,\r\n          dataKey: 'footer',\r\n          event: '_onFooterResized'\r\n        }\r\n      }, footer) : null,\r\n\r\n      // 最底部元素\r\n      h('div', {\r\n        ref: 'bottomItem',\r\n        style: {\r\n          width: isHorizontal ? '0px' : '100%',\r\n          height: isHorizontal ? '100%' : '0px'\r\n        }\r\n      })\r\n    ])\r\n  }\r\n})\r\n\r\nexport default VirtualDragList"],"names":["Range","start","end","front","behind","DragState","from","key","item","index","to","CalcSize","average","undefined","total","fixed","header","footer","CACLTYPE","DIRECTION","Virtual","options","callback","sizes","Map","isHorizontal","calcIndex","calcType","calcSize","direction","offset","range","this","checkIfUpdate","keeps","prototype","construcrot","updateUniqueKeys","value","uniqueKeys","updateSizes","forEach","v","k","includes","_this","updateRange","Math","max","handleUpdate","getEndByStart","handleScroll","scrolls","getScrollItems","isFront","handleScrollFront","isBehind","handleScrollBehind","floor","middle","middleOffset","low","high","length","getOffsetByIndex","round","getFrontOffset","getBehindOffset","last","getLastIndex","getItemSize","i","size","get","min","handleItemSizeChange","id","set","_toConsumableArray","values","reduce","t","handleHeaderSizeChange","handleFooterSizeChange","d","Symbol","iterator","constructor","o","e","TypeError","n","enumerable","configurable","writable","Object","defineProperty","r","Array","isArray","s","toString","call","slice","name","test","window","navigator","userAgent","match","m","p","D","concat","split","g","w","addEventListener","a","c","attachEvent","y","removeEventListener","detachEvent","b","top","left","height","width","offsetHeight","offsetWidth","offsetTop","offsetLeft","offsetParent","E","getBoundingClientRect","bottom","right","parentNode","document","scrollingElement","contains","body","innerHeight","innerWidth","S","children","indexOf","el","rect","_","classList","className","replace","u","style","defaultView","getComputedStyle","currentStyle","O","nodeType","$el","assign","dragEl","dropEl","differ","ghost","delay","delayOnTouchOnly","disabled","animation","ghostAnimation","ghostClass","ghostStyle","chosenClass","draggable","dragging","onDrag","onMove","onDrop","onChange","forceFallback","stopPropagation","supportPassive","supportPointer","f","supportTouch","ownerDocument","nativeDraggable","M","x","$","captureAnimationState","push","target","animateRange","animate","arguments","clearTimeout","animated","setTimeout","_bindEventListener","_onStart","bind","_onMove","_onDrop","_unbindEventListener","_bindMoveEvents","_bindUpEvents","_unbindMoveEvents","_unbindUpEvents","_handleDestroy","l","module","h","capture","passive","node","diff","position","exist","remove","class","zIndex","opacity","pointerEvents","cursor","setStyle","appendChild","move","clear","createElement","destroy","_resetState","type","button","touches","pointerType","tagName","toUpperCase","_onDrag","dragStartTimer","substring","matches","msMatchesSelector","webkitMatchesSelector","Error","selection","empty","getSelection","removeAllRanges","sortableDndOnDownState","setPosition","clientX","clientY","preventDefault","elementFromPoint","init","cloneNode","sortableDndOnMoveState","insertBefore","nextElementSibling","_removeWindowState","sortableDndAnimationEnd","MutationObserver","WebKitMutationObserver","MozMutationObserver","disconnect","observe","childList","attributes","subtree","onbeforeunload","Sortable","list","getDataKey","drag","dragElement","dragState","rangeIsChanged","cloneList","SortableDnd","scrollEl","getAttribute","findIndex","_old_","_new_","oldKey","newKey","splice","changed","VirtualProps","dataSource","dataKey","String","required","Number","rootTag","wrapTag","wrapClass","wrapStyle","headerTag","footerTag","itemTag","itemStyle","itemClass","Boolean","Function","SlotsProps","tag","event","observer","inject","data","mounted","ResizeObserver","onSizeChange","updated","beforeDestroy","methods","virtualList","getCurrentSize","sizeKey","Items","Vue","component","mixins","props","render","attrs","$slots","Slots","role","debounce","func","debounced","callNow","args","timer","immediate","result","apply","cancel","virtual","sortable","provide","computed","scrollSizeKey","scrollDirectionKey","offsetSizeKey","clientSizeKey","watch","handler","val","deep","_destroySortable","$nextTick","_this2","_initSortable","reset","scrollToTop","getSize","getOffset","root","$refs","ceil","scrollToBottom","bottomItem","scrollToOffset","_this3","scrollToIndex","indexOffset","_this4","handleDragEnd","_old","_new","$emit","_updateUniqueKeys","_initVirtual","_this5","group","_getDataKey","_this6","_handleScroll","clientSize","scrollSize","handleToTop","handleToBottom","_onItemResized","_onHeaderResized","_onFooterResized","map","_this7","obj","_getItemIndex","_this8","_getItemStyle","itemKey","display","padding","ref","overflow","on","record","_this9","$scopedSlots"],"mappings":"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"}