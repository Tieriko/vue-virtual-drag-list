{"version":3,"file":"draglist.js","sources":["../src/plugins/states.js","../src/plugins/virtual.js","../node_modules/sortable-dnd/dist/sortable.min.js","../src/plugins/sortable.js","../src/props.js","../src/slots.js","../src/utils.js","../src/index.js"],"sourcesContent":["// scroll range\r\nexport class Range {\r\n  constructor() {\r\n    this.start = 0\r\n    this.end = 0\r\n    this.front = 0\r\n    this.behind = 0\r\n  } \r\n}\r\n\r\n// drag state\r\nexport class DragState {\r\n  constructor() {\r\n    this.from = { key: null, item: null, index: -1 }\r\n    this.to = { key: null, item: null, index: -1 }\r\n  }\r\n}\r\n\r\n// virtual state\r\nexport class CalcSize {\r\n  constructor() {\r\n    this.average = undefined // 计算首次加载每一项的评价高度\r\n    this.total = undefined // 首次加载的总高度\r\n    this.fixed = undefined // 记录固定高度值\r\n    this.header = undefined // 顶部插槽高度\r\n    this.footer = undefined // 底部插槽高度\r\n  }\r\n}","import { Range, CalcSize } from \"./states\"\r\n\r\nconst CACLTYPE = {\r\n  INIT: 'INIT',\r\n  FIXED: 'FIXED',\r\n  DYNAMIC: 'DYNAMIC'\r\n}\r\n\r\nconst DIRECTION = {\r\n  FRONT: 'FRONT',\r\n  BEHIND: 'BEHIND'\r\n}\r\n\r\nfunction Virtual(options, callback) {\r\n  this.options = options\r\n  this.callback = callback\r\n\r\n  this.sizes = new Map() // 用于存储列表项的高度\r\n  this.isHorizontal = options.isHorizontal // 是否为横向滚动\r\n\r\n  this.calcIndex = 0 // 记录上次计算的index\r\n  this.calcType = CACLTYPE.INIT // 记录列表项高度是动态还是静态\r\n  this.calcSize = new CalcSize\r\n\r\n  this.direction = '' // 滚动方向\r\n  this.offset = 0 // 记录滚动距离\r\n\r\n  this.range = new Range\r\n  if (options) this.checkIfUpdate(0, options.keeps - 1)\r\n}\r\n\r\nVirtual.prototype = {\r\n  construcrot: Virtual,\r\n\r\n  // --------------------------- update ------------------------------\r\n  updateUniqueKeys(value) {\r\n    this.options.uniqueKeys = value\r\n  },\r\n\r\n  // 更新 sizes，删除不在当前列表中的数据\r\n  updateSizes(uniqueKeys) {\r\n    this.sizes.forEach((v, k) => {\r\n      if (!uniqueKeys.includes(k)) this.sizes.delete(k)\r\n    })\r\n  },\r\n\r\n  updateRange() {\r\n    const start = Math.max(this.range.start, 0)\r\n    this.handleUpdate(start, this.getEndByStart(start))\r\n  },\r\n\r\n  // --------------------------- scroll ------------------------------\r\n  // 滚动事件\r\n  handleScroll(offset) {\r\n    this.direction = offset < this.offset ? DIRECTION.FRONT : DIRECTION.BEHIND\r\n    this.offset = offset\r\n\r\n    const scrolls = this.getScrollItems(offset)\r\n\r\n    if (this.isFront()) {\r\n      this.handleScrollFront(scrolls)\r\n    } else if (this.isBehind()) {\r\n      this.handleScrollBehind(scrolls)\r\n    }\r\n  },\r\n\r\n  isFront() {\r\n    return this.direction === DIRECTION.FRONT\r\n  },\r\n\r\n  isBehind() {\r\n    return this.direction === DIRECTION.BEHIND\r\n  },\r\n\r\n  getScrollItems(offset) {\r\n    const { fixed, header } = this.calcSize\r\n    // 减去顶部插槽高度\r\n    if (header) offset -= header\r\n    if (offset <= 0) return 0\r\n    // 固定高度\r\n    if (this.calcType === CACLTYPE.FIXED) return Math.floor(offset / fixed)\r\n    // 非固定高度使用二分查找\r\n    let low = 0, high = this.options.uniqueKeys.length\r\n    let middle = 0, middleOffset = 0\r\n    while (low <= high) {\r\n      middle = low + Math.floor((high - low) / 2)\r\n      middleOffset = this.getOffsetByIndex(middle)\r\n      if (middleOffset === offset) return middle\r\n      else if (middleOffset < offset) low = middle + 1\r\n      else if (middleOffset > offset) high = middle - 1\r\n    }\r\n    return low > 0 ? --low : 0\r\n  },\r\n\r\n  handleScrollFront(scrolls) {\r\n    if (scrolls > this.range.start) return\r\n    const start = Math.max(scrolls - Math.round(this.options.keeps / 3), 0)\r\n    this.checkIfUpdate(start, this.getEndByStart(start))\r\n  },\r\n\r\n  handleScrollBehind(scrolls) {\r\n    if (scrolls < this.range.start + Math.round(this.options.keeps / 3)) return\r\n    this.checkIfUpdate(scrolls, this.getEndByStart(scrolls))\r\n  },\r\n\r\n  checkIfUpdate(start, end) {\r\n    const { uniqueKeys, keeps } = this.options\r\n    if (uniqueKeys.length <= keeps) {\r\n      start = 0\r\n      end = uniqueKeys.length - 1\r\n    } else if (end - start < keeps - 1) {\r\n      start = end - keeps + 1\r\n    }\r\n    if (this.range.start !== start) this.handleUpdate(start, end)\r\n  },\r\n\r\n  handleUpdate(start, end) {\r\n    this.range.start = start\r\n    this.range.end = end\r\n    this.range.front = this.getFrontOffset()\r\n    this.range.behind = this.getBehindOffset()\r\n    this.callback({ ...this.range })\r\n  },\r\n\r\n  getFrontOffset() {\r\n    if (this.calcType === CACLTYPE.FIXED) {\r\n      return this.calcSize.fixed * this.range.start\r\n    } else {\r\n      return this.getOffsetByIndex(this.range.start)\r\n    }\r\n  },\r\n\r\n  getBehindOffset() {\r\n    const last = this.getLastIndex()\r\n    if (this.calcType === CACLTYPE.FIXED) {\r\n      return (last - this.range.end) * this.calcSize.fixed\r\n    }\r\n    if (this.calcIndex === last) {\r\n      return this.getOffsetByIndex(last) - this.getOffsetByIndex(this.range.end)\r\n    }\r\n    return (last - this.range.end) * this.getItemSize()\r\n  },\r\n\r\n  getOffsetByIndex(index) {\r\n    if (!index) return 0\r\n    let offset = 0\r\n    for (let i = 0; i < index; i++) {\r\n      const size = this.sizes.get(this.options.uniqueKeys[i])\r\n      offset = offset + (typeof size === 'number' ? size : this.getItemSize())\r\n    }\r\n    this.calcIndex = Math.max(this.calcIndex, index - 1)\r\n    this.calcIndex = Math.min(this.calcIndex, this.getLastIndex())\r\n    return offset\r\n  },\r\n\r\n  getEndByStart(start) {\r\n    return Math.min(start + this.options.keeps - 1, this.getLastIndex())\r\n  },\r\n\r\n  getLastIndex() {\r\n    return this.options.uniqueKeys.length - 1\r\n  },\r\n\r\n  // --------------------------- size ------------------------------\r\n  // 获取列表项的高度\r\n  getItemSize() {\r\n    return this.calcType === CACLTYPE.FIXED ? this.calcSize.fixed : (this.calcSize.average || this.options.size)\r\n  },\r\n\r\n  // 列表项高度变化\r\n  handleItemSizeChange(id, size) {\r\n    this.sizes.set(id, size)\r\n\r\n    // 'INIT' 状态表示每一项的高度都相同\r\n    if (this.calcType === CACLTYPE.INIT) {\r\n      this.calcType = CACLTYPE.FIXED // 固定高度\r\n      this.calcSize.fixed = size\r\n    } else if (this.calcType === CACLTYPE.FIXED && this.calcSize.fixed !== size) {\r\n      // 如果当前为 'FIXED' 状态并且 size 与固定高度不同，表示当前高度不固定，fixed值也就不需要了\r\n      this.calcType = CACLTYPE.DYNAMIC\r\n      this.calcSize.fixed = undefined\r\n    }\r\n    // 非固定高度的情况下，计算平均高度与总高度\r\n    if (this.calcType !== CACLTYPE.FIXED) {\r\n      this.calcSize.total = [...this.sizes.values()].reduce((t, i) => t + i, 0)\r\n      this.calcSize.average = Math.round(this.calcSize.total / this.sizes.size)\r\n    }\r\n  },\r\n  \r\n  // header 插槽高度变化\r\n  handleHeaderSizeChange(size) {\r\n    this.calcSize.header = size\r\n  },\r\n\r\n  // footer 插槽高度变化\r\n  handleFooterSizeChange(size) {\r\n    this.calcSize.footer = size\r\n  }\r\n}\r\n\r\nexport default Virtual","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).Sortable=e()}(this,function(){\"use strict\";function d(t){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,o){e&&n(t.prototype,e),o&&n(t,o),Object.defineProperty(t,\"prototype\",{writable:!1})}function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(o=\"Object\"===o&&t.constructor?t.constructor.name:o)||\"Set\"===o?Array.from(t):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function t(t){if(\"undefined\"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var a=t(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i),l=t(/Edge/i),f=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),e=t(/iP(ad|od|hone)/i),h=t(/chrome/i)&&t(/android/i),c={capture:!1,passive:!1},u=/\\s+/g,p=[\"-webkit-transition\",\"-moz-transition\",\"-ms-transition\",\"-o-transition\",\"transition\"],v=[\"-webkit-transform\",\"-moz-transform\",\"-ms-transform\",\"-o-transform\",\"transform\"];function m(e,o){o?\"none\"===o?p.forEach(function(t){return D(e,t,\"none\")}):p.forEach(function(t){return D(e,t,\"\".concat(t.split(\"transition\")[0],\"transform \").concat(o))}):p.forEach(function(t){return D(e,t,\"\")})}function g(e,o){o?v.forEach(function(t){return D(e,t,\"\".concat(t.split(\"transform\")[0]).concat(o))}):v.forEach(function(t){return D(e,t,\"\")})}function w(t,e,o,n){window.addEventListener?t.addEventListener(e,o,!(!n&&a)&&c):window.attachEvent&&t.attachEvent(\"on\"+e,o)}function y(t,e,o,n){window.removeEventListener?t.removeEventListener(e,o,!(!n&&a)&&c):window.detachEvent&&t.detachEvent(\"on\"+e,o)}function b(t){for(var e={top:0,left:0,height:0,width:0},o=(e.height=t.offsetHeight,e.width=t.offsetWidth,e.top=t.offsetTop,e.left=t.offsetLeft,t.offsetParent);null!==o;)e.top+=o.offsetTop,e.left+=o.offsetLeft,o=o.offsetParent;return e}function E(t){var e,o;if(t.getBoundingClientRect||t===window)return e={top:0,left:0,bottom:0,right:0,height:0,width:0},t!==window&&t.parentNode&&t!==(!(o=document.scrollingElement)||o.contains(document.body)?document:o)?(o=t.getBoundingClientRect(),e.top=o.top,e.left=o.left,e.bottom=o.bottom,e.right=o.right,e.height=o.height,e.width=o.width):(e.top=0,e.left=0,e.bottom=window.innerHeight,e.right=window.innerWidth,e.height=window.innerHeight,e.width=window.innerWidth),e}function S(t,e,o){var n=r(Array.from(t.children)),t=n.indexOf(e);if(-1<t)return o?n[t]:{index:t,el:n[t],rect:E(n[t]),offset:b(n[t])};for(var i=0;i<n.length;i++)if(function(t,e){var o;if(t&&e)for(o=t.parentNode;o;){if(e===o)return 1;o=o.parentNode}return}(e,n[i]))return o?n[i]:{index:i,el:n[i],rect:E(n[i]),offset:b(n[i])};return o?null:{index:-1,el:null,rect:{},offset:{}}}function _(t,e,o){var n;t&&e&&(t.classList?t.classList[o?\"add\":\"remove\"](e):(n=(\" \"+t.className+\" \").replace(u,\" \").replace(\" \"+e+\" \",\" \"),t.className=(n+(o?\" \"+e:\"\")).replace(u,\" \")))}function D(t,e,o){var n=t&&t.style;if(n){if(void 0===o)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,\"\"):t.currentStyle&&(o=t.currentStyle),void 0===e?o:o[e];n[e=e in n||-1!==e.indexOf(\"webkit\")?e:\"-webkit-\"+e]=o+(\"string\"==typeof o?\"\":\"px\")}}var x=function(){function t(){o(this,t),this.from={node:null,rect:{},offset:{}},this.to={node:null,rect:{},offset:{}}}return i(t,[{key:\"get\",value:function(t){return this[t]}},{key:\"set\",value:function(t,e){this[t]=e}},{key:\"destroy\",value:function(){this.from={node:null,rect:{},offset:{}},this.to={node:null,rect:{},offset:{}}}}]),t}(),$=function(){function e(t){o(this,e),this.options=t,this.diff={x:0,y:0},this.position={x:0,y:0},this.exist=!1}return i(e,[{key:\"init\",value:function(t,e){var o,n;this.$el&&this.$el.remove(),t&&(this.$el=t,o=(t=this.options).ghostClass,t=void 0===(t=t.ghostStyle)?{}:t,n=e.width,e=e.height,this.$el.class=o,this.$el.style.width=n+\"px\",this.$el.style.height=e+\"px\",this.$el.style.position=\"fixed\",this.$el.style.left=0,this.$el.style.top=0,this.$el.style.zIndex=1e5,this.$el.style.opacity=.8,this.$el.style.pointerEvents=\"none\",this.$el.style.cursor=\"move\",m(this.$el,\"none\"),g(this.$el,\"translate3d(0px, 0px, 0px)\"),this.setStyle(t))}},{key:\"setPosition\",value:function(t,e){this.position={x:t-this.diff.x,y:e-this.diff.y}}},{key:\"setStyle\",value:function(t){for(var e in t)D(this.$el,e,t[e])}},{key:\"rect\",value:function(){return E(this.$el)}},{key:\"move\",value:function(t){var e;this.$el&&(e=this.options.ghostAnimation,m(this.$el,t?\"\".concat(e,\"ms\"):\"none\"),this.exist||(document.body.appendChild(this.$el),this.exist=!0),g(this.$el,\"translate3d(\".concat(this.position.x,\"px, \").concat(this.position.y,\"px, 0)\")),\"move\"!==this.$el.style.cursor&&(this.$el.style.cursor=\"move\"))}},{key:\"destroy\",value:function(t){var e=this,t=(t&&(this.position={x:t.left,y:t.top},this.move(!0)),this.options.ghostAnimation);t?setTimeout(function(){return e.clear()},t):this.clear()}},{key:\"clear\",value:function(){this.$el&&this.$el.remove(),this.$el=null,this.diff={x:0,y:0},this.position={x:0,y:0},this.exist=!1}}]),e}();function P(){var i=[];return{captureAnimationState:function(){var t=r(Array.from(this.$el.children)),e=(o=t,n=this.dragEl,e=this.dropEl,n=o.indexOf(n),o=o.indexOf(e),n<o?{start:n,end:o}:{start:o,end:n}),o=e.start,n=e.end;i.length=0,t.slice(o,n+1).forEach(function(t){i.push({target:t,rect:E(t)})})},animateRange:function(){var o=this;i.forEach(function(t){var e=t.target,t=t.rect;o.animate(e,t,o.animation)})},animate:function(t,e){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:150,n=E(t),i=e.left-n.left,e=e.top-n.top;m(t,\"none\"),g(t,\"translate3d(\".concat(i,\"px, \").concat(e,\"px, 0)\")),t.offsetLeft,m(t,\"\".concat(o,\"ms\")),g(t,\"translate3d(0px, 0px, 0px)\"),clearTimeout(t.animated),t.animated=setTimeout(function(){m(t,\"\"),g(t,\"\"),t.animated=null},o)}}}var M=\"undefined\"!=typeof document&&!h&&!e&&\"draggable\"in document.createElement(\"div\");function O(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw\"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(t));this.$el=t,this.options=e=Object.assign({},e),this.dragEl=null,this.dropEl=null,this.differ=null,this.ghost=null;var o,n,i={delay:0,delayOnTouchOnly:!1,disabled:!1,animation:150,ghostAnimation:0,ghostClass:\"\",ghostStyle:{},chosenClass:\"\",draggable:void 0,dragging:void 0,onDrag:void 0,onMove:void 0,onDrop:void 0,onChange:void 0,forceFallback:!1,stopPropagation:!1,supportPassive:(o=!1,document.addEventListener(\"checkIfSupportPassive\",null,{get passive(){return o=!0}}),o),supportPointer:\"PointerEvent\"in window&&!f,supportTouch:\"ontouchstart\"in window,ownerDocument:this.$el.ownerDocument};for(n in i)n in this.options||(this.options[n]=i[n]);this.nativeDraggable=!this.options.forceFallback&&M,this.differ=new x,this.ghost=new $(this.options),Object.assign(this,P(),{_bindEventListener:function(){this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onDrop=this._onDrop.bind(this);var t=this.options,e=t.supportPointer,o=t.supportTouch,t=t.supportPassive;w(this.$el,e?\"pointerdown\":o?\"touchstart\":\"mousedown\",this._onStart,t)},_unbindEventListener:function(){var t=this.options.supportPassive;y(this.$el,\"pointerdown\",this._onStart,t),y(this.$el,\"touchstart\",this._onStart,t),y(this.$el,\"mousedown\",this._onStart,t)},_bindMoveEvents:function(t){var e=this.options,o=e.supportPointer,n=e.ownerDocument,e=e.supportPassive;w(n,o?\"pointermove\":t?\"touchmove\":\"mousemove\",this._onMove,e)},_bindUpEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;w(e,\"pointerup\",this._onDrop,t),w(e,\"pointercancel\",this._onDrop,t),w(e,\"touchend\",this._onDrop,t),w(e,\"touchcancel\",this._onDrop,t),w(e,\"mouseup\",this._onDrop,t)},_unbindMoveEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;y(e,\"pointermove\",this._onMove,t),y(e,\"touchmove\",this._onMove,t),y(e,\"mousemove\",this._onMove,t)},_unbindUpEvents:function(){var t=this.options,e=t.ownerDocument,t=t.supportPassive;y(e,\"pointerup\",this._onDrop,t),y(e,\"pointercancel\",this._onDrop,t),y(e,\"touchend\",this._onDrop,t),y(e,\"touchcancel\",this._onDrop,t),y(e,\"mouseup\",this._onDrop,t)}}),this._bindEventListener(),this._handleDestroy()}return O.prototype={constructor:O,destroy:function(){this._unbindEventListener(),this._resetState()},_onStart:function(t){var e=this.options,o=e.delay,n=e.disabled,i=e.stopPropagation,e=e.delayOnTouchOnly;if(!(/mousedown|pointerdown/.test(t.type)&&0!==t.button||n)){var n=t.touches&&t.touches[0]||t.pointerType&&\"touch\"===t.pointerType&&t,r=n||t;if(this.nativeDraggable||!f||!r.target||\"SELECT\"!==r.target.tagName.toUpperCase()){if(r.target===this.$el)return!0;i&&t.stopPropagation(),!o||e&&!n||this.nativeDraggable&&(l||a)?this._onDrag(r,n):this.dragStartTimer=setTimeout(this._onDrag(r,n),o)}}},_onDrag:function(t,e){var o=this.options,n=o.draggable,o=o.dragging;if(\"function\"==typeof n){if(!n(t))return!0}else if(\"string\"==typeof n){if(!function(t,e){if(e&&(\">\"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}(t.target,n))return!0}else if(void 0!==n)throw new Error('draggable expected \"function\" or \"string\" but received \"'.concat(d(n),'\"'));try{document.selection?setTimeout(function(){document.selection.empty()},0):window.getSelection().removeAllRanges()}catch(t){throw new Error(t)}if(o){if(\"function\"!=typeof o)throw new Error('dragging expected \"function\" or \"string\" but received \"'.concat(d(o),'\"'));this.dragEl=o(t)}else this.dragEl=S(this.$el,t.target,!0);if(!this.dragEl||this.dragEl.animated)return!0;n=S(this.$el,this.dragEl),o=n.rect,n=n.offset;window.sortableDndOnDownState=!0,this.ghost.setPosition(o.left,o.top),this.ghost.diff={x:t.clientX-o.left,y:t.clientY-o.top},this.differ.from={node:this.dragEl,rect:o,offset:n},this._bindMoveEvents(e),this._bindUpEvents(e)},_onMove:function(t){void 0!==t.preventDefault&&t.preventDefault();var e=this.options,o=e.chosenClass,n=e.stopPropagation,i=e.onMove,e=e.onDrag,n=(n&&t.stopPropagation(),t.touches&&t.touches[0]),r=n||t,s=r.clientX,a=r.clientY,n=n?document.elementFromPoint(s,a):r.target;if(!this.ghost.$el&&(this.ghost.init(this.dragEl.cloneNode(!0),this.differ.from.rect),void 0!==e)){if(\"function\"!=typeof e)throw new Error('onDrag expected \"function\" but received \"'.concat(d(e),'\"'));e(this.dragEl,r,t)}if(void 0!==i){if(\"function\"!=typeof i)throw new Error('onMove expected \"function\" but received \"'.concat(d(i),'\"'));i(this.differ.from,this.ghost.$el,r,t)}if(_(this.dragEl,o,!0),this.ghost.move(),window.sortableDndOnDownState&&!(s<0||a<0)){window.sortableDndOnMoveState=!0,this.ghost.setPosition(s,a),this.ghost.move();e=E(this.$el);if(s<e.left||s>e.right||a<e.top||a>e.bottom)this.ghost.setStyle({cursor:\"not-allowed\"});else{var i=S(this.$el,n),o=i.index,e=i.el,n=i.rect,i=i.offset,l=n.left,f=n.right,h=n.top,c=n.bottom;if(e&&!(o<0)&&(this.dropEl=e,l<s&&s<f&&h<a&&a<c&&e!==this.dragEl&&(this.differ.to={node:this.dropEl,rect:n,offset:i},!e.animated))){this.captureAnimationState();o=this.options.onChange,l=b(this.dragEl);if(void 0!==o){if(\"function\"!=typeof o)throw new Error('onChange expected \"function\" but received \"'.concat(d(o),'\"'));o(this.differ.from,this.differ.to,r,t)}l.top<i.top||l.left<i.left?this.$el.insertBefore(this.dragEl,e.nextElementSibling):this.$el.insertBefore(this.dragEl,e),this.animateRange()}}}},_onDrop:function(t){this._unbindMoveEvents(),this._unbindUpEvents(),clearTimeout(this.dragStartTimer);var e=this.options,o=e.onDrop,n=e.chosenClass;if(e.stopPropagation&&t.stopPropagation(),_(this.dragEl,n,!1),window.sortableDndOnDownState&&window.sortableDndOnMoveState){this.differ.to.offset=b(this.dragEl),this.differ.to.rect=E(this.dragEl);e=this.differ,n=e.from,e=e.to,n=n.offset.top!==e.offset.top||n.offset.left!==e.offset.left;if(void 0!==o){if(\"function\"!=typeof o)throw new Error('onDrop expected \"function\" but received \"'.concat(d(o),'\"'));o(n,t)}this.ghost.destroy(E(this.dragEl))}this.differ.destroy(),this._removeWindowState()},_resetState:function(){this.dragEl=null,this.dropEl=null,this.ghost.destroy(),this.differ.destroy(),this._removeWindowState()},_removeWindowState:function(){window.sortableDndOnDownState=null,window.sortableDndOnMoveState=null,window.sortableDndAnimationEnd=null,delete window.sortableDndOnDownState,delete window.sortableDndOnMoveState,delete window.sortableDndAnimationEnd},_handleDestroy:function(){var t=this,e=null,o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(o){var n=this.options.ownerDocument;if(!n)return;(e=new o(function(){n.body.contains(t.$el)||(e.disconnect(),e=null,t._unbindEventListener(),t._resetState())})).observe(this.$el.parentNode,{childList:!0,attributes:!1,subtree:!1})}window.onbeforeunload=function(){e&&e.disconnect(),e=null,t._unbindEventListener(),t._resetState()}}},O});\n","import SortableDnd from 'sortable-dnd'\r\nimport { DragState } from './states'\r\n\r\nfunction Sortable(options, onDrag, onDrop) {\r\n  this.options = options\r\n  this.onDrag = onDrag\r\n  this.onDrop = onDrop\r\n\r\n  this.list = options.list\r\n  this.getDataKey = options.getDataKey\r\n\r\n  this.drag = null\r\n  this.dragElement = null\r\n  this.dragState = new DragState\r\n  this.rangeIsChanged = false\r\n\r\n  this.init()\r\n}\r\n\r\nSortable.prototype = {\r\n  constructor: Sortable,\r\n\r\n  init() {\r\n    const {\r\n      disabled,\r\n      dragging,\r\n      draggable,\r\n      ghostClass,\r\n      ghostStyle,\r\n      chosenClass,\r\n      animation\r\n    } = this.options\r\n\r\n    let cloneList = new Array()\r\n    this.drag = new SortableDnd(\r\n      this.options.scrollEl,\r\n      {\r\n        disabled,\r\n        dragging,\r\n        draggable,\r\n        ghostClass,\r\n        ghostStyle,\r\n        chosenClass,\r\n        animation,\r\n        \r\n        onDrag: (dragEl) => {\r\n          this.dragElement = dragEl\r\n          cloneList = [...this.list]\r\n\r\n          const key = dragEl.getAttribute('data-key')\r\n          const index = this.list.findIndex(el => this.getDataKey(el) == key)\r\n          const item = this.list[index]\r\n          Object.assign(this.dragState.from, { item, index, key })\r\n\r\n          this.rangeIsChanged = false\r\n\r\n          // drag\r\n          this.onDrag(this.dragState.from)\r\n        },\r\n        onChange: (_old_, _new_) => {\r\n          const oldKey = this.dragState.from.key\r\n          const newKey = _new_.node.getAttribute('data-key')\r\n\r\n          const from = { item: null, index: -1 }\r\n          const to = { item: null, index: -1 }\r\n\r\n          cloneList.forEach((el, index) => {\r\n            const key = this.getDataKey(el)\r\n            if (key == oldKey) Object.assign(from, { item: el, index })\r\n            if (key == newKey) Object.assign(to, { item: el, index })\r\n          })\r\n\r\n          cloneList.splice(from.index, 1)\r\n          cloneList.splice(to.index, 0, from.item)\r\n        },\r\n        onDrop: (changed) => {\r\n          if (this.rangeIsChanged && this.dragElement) this.dragElement.remove()\r\n\r\n          const { from } = this.dragState\r\n          const index = cloneList.findIndex(el => this.getDataKey(el) == from.key)\r\n          const item = this.list[index]\r\n          this.dragState.to = { index, item, key: this.getDataKey(item) }\r\n\r\n          // drop \r\n          this.onDrop(cloneList, from, this.dragState.to, changed)\r\n\r\n          this.list = [...cloneList]\r\n          this.clear()\r\n        }\r\n      }\r\n    )\r\n  },\r\n\r\n  clear() {\r\n    this.dragElement = null\r\n    this.rangeIsChanged = false\r\n    this.dragState = new DragState\r\n  },\r\n\r\n  destroy() {\r\n    this.drag && this.drag.destroy()\r\n    this.drag = null\r\n  }\r\n}\r\n\r\nexport default Sortable","export const VirtualProps = {\r\n  // 列表数据\r\n  dataSource: {\r\n    type: Array,\r\n    default: () => {\r\n      return []\r\n    }\r\n  },\r\n  // 每一项的key值键值\r\n  dataKey: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  direction: {\r\n    type: String,\r\n    default: 'vertical' // 纵向滚动(vertical)还是横向滚动(horizontal)\r\n  },\r\n  // 虚拟列表高度\r\n  height: {\r\n    type: String,\r\n    default: '100%'\r\n  },\r\n  // 列表展示多少条数据，为0或者不传会自动计算\r\n  keeps: {\r\n    type: Number,\r\n    default: 30\r\n  },\r\n  // 每一行预估高度\r\n  size: {\r\n    type: Number\r\n  },\r\n  // 防抖延迟时间\r\n  delay: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  rootTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  rootStyle: {\r\n    type: Object\r\n  },\r\n  rootClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  wrapTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  wrapClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  wrapStyle: {\r\n    type: Object\r\n  },\r\n  headerTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  footerTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  itemTag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  itemStyle: {\r\n    type: Object\r\n  },\r\n  itemClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  // 禁用拖拽？\r\n  disabled: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  draggable: {\r\n    type: [Function, String]\r\n  },\r\n  dragging: {\r\n    type: Function\r\n  },\r\n  ghostClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  // 拖拽时的样式\r\n  ghostStyle: {\r\n    type: Object,\r\n    default: () => {\r\n      return {}\r\n    }\r\n  },\r\n  chosenClass: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  animation: {\r\n    type: Number,\r\n    default: 150\r\n  }\r\n}\r\n\r\nexport const SlotsProps = {\r\n  tag: {\r\n    type: String,\r\n    default: 'div'\r\n  },\r\n  event: {\r\n    type: String\r\n  },\r\n  dataKey: {\r\n    type: [String, Number]\r\n  },\r\n  isHorizontal: {\r\n    type: Boolean\r\n  }\r\n}","import Vue from 'vue'\r\nimport { SlotsProps } from './props'\r\n\r\nconst observer = {\r\n  inject: ['virtualList'],\r\n  data () {\r\n    return {\r\n      observer: null\r\n    }\r\n  },\r\n  mounted () {\r\n    if (typeof ResizeObserver !== 'undefined') {\r\n      this.observer = new ResizeObserver(() => {\r\n        this.onSizeChange()\r\n      })\r\n      this.$el && this.observer.observe(this.$el)\r\n    }\r\n  },\r\n  updated () {\r\n    this.onSizeChange()\r\n  },\r\n  beforeDestroy () {\r\n    if (this.observer) {\r\n      this.observer.disconnect()\r\n      this.observer = null\r\n    }\r\n  },\r\n  methods: {\r\n    onSizeChange () {\r\n      this.virtualList[this.event](this.dataKey, this.getCurrentSize())\r\n    },\r\n    getCurrentSize () {\r\n      const sizeKey = this.isHorizontal ? 'offsetWidth' : 'offsetHeight'\r\n      return this.$el ? this.$el[sizeKey] : 0\r\n    }\r\n  }\r\n}\r\n\r\nexport const Items = Vue.component('virtual-draglist-items', {\r\n  mixins: [observer],\r\n  props: SlotsProps,\r\n  render (h) {\r\n    const { tag, dataKey } = this\r\n    return h(tag, {\r\n      key: dataKey,\r\n      attrs: {\r\n        'data-key': dataKey\r\n      },\r\n    }, this.$slots.default)\r\n  }\r\n})\r\n\r\nexport const Slots = Vue.component('virtual-draglist-slots', {\r\n  mixins: [observer],\r\n  props: SlotsProps,\r\n  render (h) {\r\n    const { tag, dataKey } = this\r\n    return h(tag, {\r\n      key: dataKey,\r\n      attrs: {\r\n        role: dataKey\r\n      }\r\n    }, this.$slots.default)\r\n  }\r\n})\r\n","/**\r\n * 防抖\r\n * @param {Function} func callback function\r\n * @param {Number} delay delay time\r\n * @param {Boolean} immediate whether to execute immediately\r\n * @returns function\r\n */\r\nexport function debounce(func, delay = 50, immediate = false){\r\n  let timer = null\r\n  let result\r\n  let debounced = function(...args){\r\n    if(timer) clearTimeout(timer)\r\n    if(immediate){\r\n      let callNow = !timer\r\n      timer = setTimeout(()=>{\r\n        timer = null\r\n      }, delay)\r\n      if(callNow) result = func.apply(this, args)\r\n    } else{\r\n      timer = setTimeout(()=>{\r\n        func.apply(this, args)\r\n      }, delay)\r\n    }\r\n    return result\r\n  }\r\n  debounced.cancel = function(){\r\n    clearTimeout(timer)\r\n    timer = null\r\n  }\r\n  return debounced\r\n}\r\n\r\nexport default {\r\n  debounce\r\n}","import Vue from 'vue'\r\nimport Virtual from './plugins/virtual'\r\nimport Sortable from './plugins/sortable'\r\nimport { Range, DragState } from './plugins/states'\r\nimport { VirtualProps } from './props'\r\nimport { Slots, Items } from './slots'\r\nimport { debounce } from './utils'\r\n\r\nconst VirtualDragList = Vue.component('virtual-drag-list', {\r\n  props: VirtualProps,\r\n  data() {\r\n    return {\r\n      list: [], // 将dataSource克隆一份\r\n      uniqueKeys: [], // 通过dataKey获取所有数据的唯一键值\r\n      virtual: null,\r\n      sortable: null,\r\n\r\n      range: new Range,\r\n      dragState: new DragState\r\n    }\r\n  },\r\n  provide() {\r\n    return {\r\n      virtualList: this\r\n    }\r\n  },\r\n  computed: {\r\n    isHorizontal() {\r\n      return this.direction !== 'vertical'\r\n    },\r\n    scrollSizeKey() {\r\n      return this.isHorizontal ? 'scrollWidth' : 'scrollHeight'\r\n    },\r\n    scrollDirectionKey() {\r\n      return this.isHorizontal ? 'scrollLeft' : 'scrollTop'\r\n    },\r\n    offsetSizeKey() {\r\n      return this.isHorizontal ? 'offsetLeft' : 'offsetTop'\r\n    },\r\n    clientSizeKey() {\r\n      return this.isHorizontal ? 'clientWidth' : 'clientHeight'\r\n    }\r\n  },\r\n  watch: {\r\n    dataSource: {\r\n      handler(val) {\r\n        this.init(val)\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    disabled: {\r\n      handler(val) {\r\n        if (!val) this.$nextTick(() => this._initSortable())\r\n        else this._destroySortable()\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this._destroySortable()\r\n  },\r\n  methods: {\r\n    // --------------------------- emits ------------------------------\r\n    /**\r\n     * reset component\r\n     */\r\n    reset() {\r\n      this.scrollToTop()\r\n      this.init(this.dataSource)\r\n    },\r\n    /**\r\n     * git item size by data-key\r\n     * @param {String | Number} key data-key \r\n     */\r\n    getSize(key) {\r\n      return this.virtual.sizes.get(key)\r\n    },\r\n    /**\r\n     * Get the current scroll height\r\n     */\r\n    getOffset() {\r\n      const { root } = this.$refs\r\n      return root ? Math.ceil(root[this.scrollDirectionKey]) : 0\r\n    },\r\n    /**\r\n     * Scroll to top of list\r\n     */\r\n    scrollToTop() {\r\n      const { root } = this.$refs\r\n      root[this.scrollDirectionKey] = 0\r\n    },\r\n    /**\r\n     * Scroll to bottom of list\r\n     */\r\n    scrollToBottom() {\r\n      const { bottomItem, root } = this.$refs\r\n      if (bottomItem) {\r\n        const bottom = bottomItem[this.offsetSizeKey]\r\n        this.scrollToOffset(bottom)\r\n\r\n        // 第一次滚动高度可能会发生改变，如果没到底部再执行一次滚动方法\r\n        setTimeout(() => {\r\n          const offset = this.getOffset()\r\n          const clientSize = Math.ceil(root[this.clientSizeKey])\r\n          const scrollSize = Math.ceil(root[this.scrollSizeKey])\r\n          if (offset + clientSize < scrollSize) this.scrollToBottom()\r\n        }, this.delay + 3)\r\n      }\r\n    },\r\n    /**\r\n     * Scroll to the specified index position\r\n     * @param {Number} index \r\n     */\r\n    scrollToIndex(index) {\r\n      if (index >= this.list.length - 1) {\r\n        this.scrollToBottom()\r\n      } else {\r\n        const indexOffset = this.virtual.getOffsetByIndex(index)\r\n        this.scrollToOffset(indexOffset)\r\n\r\n        setTimeout(() => {\r\n          const offset = this.getOffset()\r\n          const indexOffset = this.virtual.getOffsetByIndex(index)\r\n          if (offset !== indexOffset) this.scrollToIndex(index)\r\n        }, this.delay + 3)\r\n      }\r\n    },\r\n    /**\r\n     * Scroll to the specified offset\r\n     * @param {Number} offset \r\n     */\r\n    scrollToOffset(offset) {\r\n      const { root } = this.$refs\r\n      root[this.scrollDirectionKey] = offset\r\n    },\r\n\r\n    /**\r\n     * callback function after drop\r\n     */\r\n    handleDragEnd(list, _old, _new, changed) {\r\n      this.$emit('ondragend', list, _old, _new, changed)\r\n    },\r\n\r\n    // --------------------------- init ------------------------------\r\n    init(list) {\r\n      this.list = [...list]\r\n      this._updateUniqueKeys()\r\n      this._initVirtual()\r\n    },\r\n\r\n    // virtual\r\n    _initVirtual() {\r\n      this.virtual = null\r\n      this.virtual = new Virtual(\r\n        {\r\n          size: this.size,\r\n          keeps: this.keeps,\r\n          uniqueKeys: this.uniqueKeys,\r\n          isHorizontal: this.isHorizontal\r\n        },\r\n        (range) => {\r\n          this.range = range\r\n          const { start, end } = this.range\r\n          const { index } = this.dragState.from\r\n          if (index > -1 && !(index >= start && index <= end)) {\r\n            if (this.sortable) this.sortable.rangeIsChanged = true\r\n          }\r\n        }\r\n      )\r\n      this.virtual.updateSizes(this.uniqueKeys)\r\n      this.virtual.updateRange()\r\n    },\r\n\r\n    // sortable\r\n    _initSortable() {\r\n      this.sortable = new Sortable(\r\n        {\r\n          scrollEl: this.$refs.wrapper,\r\n          getDataKey: this._getDataKey,\r\n          list: this.list,\r\n\r\n          disabled: this.disabled,\r\n          dragging: this.dragging,\r\n          draggable: this.draggable,\r\n          ghostClass: this.ghostClass,\r\n          ghostStyle: this.ghostStyle,\r\n          chosenClass: this.chosenClass,\r\n          animation: this.animation,\r\n        },\r\n        (from) => {\r\n          // on drag\r\n          this.dragState.from = from\r\n        },\r\n        (list, from, to, changed) => {\r\n          // on drop\r\n          this.dragState.from = from\r\n          this.dragState.to = to\r\n          this.handleDragEnd(list, from, to, changed)\r\n          if (changed) {\r\n            this.list = [...list]\r\n            this._updateUniqueKeys()\r\n            this.virtual.updateUniqueKeys(this.uniqueKeys)\r\n          }\r\n          setTimeout(() => this.dragState = new DragState, this.delay + 10)\r\n        }\r\n      )\r\n    },\r\n\r\n    _destroySortable() {\r\n      this.sortable && this.sortable.destroy()\r\n      this.sortable = null\r\n    },\r\n\r\n    // --------------------------- handle scroll ------------------------------\r\n    _handleScroll() {\r\n      // mouseup 事件时会触发scroll事件，这里处理为了防止range改变导致页面滚动\r\n      if (this.dragState.to.key) return\r\n\r\n      const { root } = this.$refs\r\n      const offset = this.getOffset()\r\n      const clientSize = Math.ceil(root[this.clientSizeKey])\r\n      const scrollSize = Math.ceil(root[this.scrollSizeKey])\r\n      // 如果不存在滚动元素 || 滚动高度小于0 || 超出最大滚动距离\r\n      if (!scrollSize || offset < 0 || (offset + clientSize > scrollSize + 1)) return\r\n\r\n      this.virtual.handleScroll(offset)\r\n\r\n      if (this.virtual.isFront()) {\r\n        if (!!this.list.length && offset <= 0) this.handleToTop(this)\r\n      } else if (this.virtual.isBehind()) {\r\n        if (clientSize + offset >= scrollSize) this.handleToBottom(this)\r\n      }\r\n    },\r\n\r\n    handleToTop: debounce((_this) => {\r\n      _this.$emit('top')\r\n    }),\r\n\r\n    handleToBottom: debounce((_this) => {\r\n      _this.$emit('bottom')\r\n    }),\r\n\r\n    // --------------------------- handle size change ------------------------------\r\n    _onItemResized(id, size) {\r\n      this.virtual.handleItemSizeChange(id, size)\r\n    },\r\n    _onHeaderResized(id, size) {\r\n      this.virtual.handleHeaderSizeChange(size)\r\n    },\r\n    _onFooterResized(id, size) {\r\n      this.virtual.handleFooterSizeChange(size)\r\n    },\r\n\r\n    // --------------------------- methods ------------------------------\r\n    _updateUniqueKeys() {\r\n      this.uniqueKeys = this.list.map(item => this._getDataKey(item))\r\n    },\r\n    _getDataKey(obj) {\r\n      const { dataKey } = this\r\n      return (\r\n        !Array.isArray(dataKey)\r\n          ? dataKey.replace(/\\[/g, '.').replace(/\\]/g, '.').split('.')\r\n          : dataKey).reduce((o, k) => (o || {})[k], obj\r\n      )\r\n    },\r\n    _getItemIndex(item) {\r\n      return this.list.findIndex(el => this._getDataKey(item) == this._getDataKey(el))\r\n    },\r\n    _getItemStyle(itemKey) {\r\n      const { key } = this.dragState.from\r\n      if (this.sortable && this.sortable.rangeIsChanged && itemKey == key)\r\n        return { display: 'none' }\r\n      return {}\r\n    }\r\n  },\r\n  // --------------------------- render ------------------------------\r\n  render (h) {\r\n    const { header, footer } = this.$slots\r\n    const { height, isHorizontal, rootClass, headerTag, footerTag, itemTag, rootTag, wrapTag, itemStyle, itemClass, wrapClass } = this\r\n    const { start, end, front, behind } = this.range\r\n    \r\n    const rootStyle = { ...this.rootStyle, height, overflow: isHorizontal ? 'auto hidden' : 'hidden auto' }\r\n    const wrapStyle = { ...this.wrapStyle, padding: isHorizontal ? `0px ${behind}px 0px ${front}px` : `${front}px 0px ${behind}px`}\r\n\r\n    return h(rootTag, {\r\n      ref: 'root',\r\n      class: rootClass,\r\n      style: rootStyle,\r\n      on: { '&scroll': debounce(this._handleScroll, this.delay) }\r\n    }, [\r\n      // 顶部插槽 \r\n      header ? h(Slots, {\r\n        props: {\r\n          tag: headerTag,\r\n          dataKey: 'header',\r\n          event: '_onHeaderResized'\r\n        }\r\n      }, header) : null,\r\n      \r\n      // 中间内容区域和列表项\r\n      h(wrapTag, {\r\n        ref: 'wrapper',\r\n        attrs: { role: 'wrapper' },\r\n        class: wrapClass,\r\n        style: wrapStyle,\r\n      }, this.list.slice(start, end + 1).map(record => {\r\n        const index = this._getItemIndex(record)\r\n        const dataKey = this._getDataKey(record)\r\n        const props = { isHorizontal, dataKey: dataKey, tag: itemTag, event: '_onItemResized', }\r\n\r\n        return this.$scopedSlots.item ? \r\n          h(Items, {\r\n            key: dataKey,\r\n            props: props,\r\n            style: { ...itemStyle, ...this._getItemStyle(dataKey) },\r\n            class: itemClass\r\n          }, this.$scopedSlots.item({ record, index, dataKey }))\r\n          : \r\n          h(itemTag, {\r\n            key: dataKey,\r\n            attrs: { 'data-key': dataKey },\r\n            style: { ...itemStyle, height: `${this.size}px` },\r\n            class: itemClass\r\n          }, dataKey)\r\n        })\r\n      ),\r\n\r\n      // 底部插槽 \r\n      footer ? h(Slots, {\r\n        props: {\r\n          tag: footerTag,\r\n          dataKey: 'footer',\r\n          event: '_onFooterResized'\r\n        }\r\n      }, footer) : null,\r\n\r\n      // 最底部元素\r\n      h('div', {\r\n        ref: 'bottomItem',\r\n        style: {\r\n          width: isHorizontal ? '0px' : '100%',\r\n          height: isHorizontal ? '100%' : '0px'\r\n        }\r\n      })\r\n    ])\r\n  }\r\n})\r\n\r\nexport default VirtualDragList"],"names":["Range","start","end","front","behind","DragState","from","key","item","index","to","CalcSize","average","undefined","total","fixed","header","footer","CACLTYPE","INIT","FIXED","DYNAMIC","DIRECTION","FRONT","BEHIND","Virtual","options","callback","sizes","Map","isHorizontal","calcIndex","calcType","calcSize","direction","offset","range","checkIfUpdate","keeps","prototype","construcrot","updateUniqueKeys","value","uniqueKeys","updateSizes","forEach","v","k","includes","updateRange","Math","max","handleUpdate","getEndByStart","handleScroll","scrolls","getScrollItems","isFront","handleScrollFront","isBehind","handleScrollBehind","floor","low","high","length","middle","middleOffset","getOffsetByIndex","round","getFrontOffset","getBehindOffset","last","getLastIndex","getItemSize","i","size","get","min","handleItemSizeChange","id","set","values","reduce","t","handleHeaderSizeChange","handleFooterSizeChange","e","module","this","d","Symbol","iterator","constructor","o","TypeError","n","enumerable","configurable","writable","Object","defineProperty","r","Array","isArray","s","toString","call","slice","name","test","window","navigator","userAgent","match","a","l","f","h","c","capture","passive","u","p","m","D","concat","split","g","w","addEventListener","attachEvent","y","removeEventListener","detachEvent","b","top","left","height","width","offsetHeight","offsetWidth","offsetTop","offsetLeft","offsetParent","E","getBoundingClientRect","bottom","right","parentNode","document","scrollingElement","contains","body","innerHeight","innerWidth","S","children","indexOf","el","rect","_","classList","className","replace","style","defaultView","getComputedStyle","currentStyle","x","node","$","diff","position","exist","$el","remove","ghostClass","ghostStyle","class","zIndex","opacity","pointerEvents","cursor","setStyle","ghostAnimation","appendChild","move","setTimeout","clear","P","captureAnimationState","dragEl","dropEl","push","target","animateRange","animate","animation","arguments","clearTimeout","animated","M","createElement","O","nodeType","assign","differ","ghost","delay","delayOnTouchOnly","disabled","chosenClass","draggable","dragging","onDrag","onMove","onDrop","onChange","forceFallback","stopPropagation","supportPassive","supportPointer","supportTouch","ownerDocument","nativeDraggable","_bindEventListener","_onStart","bind","_onMove","_onDrop","_unbindEventListener","_bindMoveEvents","_bindUpEvents","_unbindMoveEvents","_unbindUpEvents","_handleDestroy","destroy","_resetState","type","button","touches","pointerType","tagName","toUpperCase","_onDrag","dragStartTimer","substring","matches","msMatchesSelector","webkitMatchesSelector","Error","selection","empty","getSelection","removeAllRanges","sortableDndOnDownState","setPosition","clientX","clientY","preventDefault","elementFromPoint","init","cloneNode","sortableDndOnMoveState","insertBefore","nextElementSibling","_removeWindowState","sortableDndAnimationEnd","MutationObserver","WebKitMutationObserver","MozMutationObserver","disconnect","observe","childList","attributes","subtree","onbeforeunload","Sortable","list","getDataKey","drag","dragElement","dragState","rangeIsChanged","cloneList","SortableDnd","scrollEl","getAttribute","findIndex","_old_","_new_","oldKey","newKey","splice","changed","VirtualProps","dataSource","dataKey","String","required","Number","rootTag","rootStyle","rootClass","wrapTag","wrapClass","wrapStyle","headerTag","footerTag","itemTag","itemStyle","itemClass","Boolean","Function","SlotsProps","tag","event","observer","inject","data","mounted","ResizeObserver","onSizeChange","updated","beforeDestroy","methods","virtualList","getCurrentSize","sizeKey","Items","Vue","component","mixins","props","render","attrs","$slots","Slots","role","debounce","func","immediate","timer","result","debounced","args","callNow","apply","cancel","VirtualDragList","virtual","sortable","provide","computed","scrollSizeKey","scrollDirectionKey","offsetSizeKey","clientSizeKey","watch","handler","val","deep","$nextTick","_initSortable","_destroySortable","reset","scrollToTop","getSize","getOffset","root","$refs","ceil","scrollToBottom","bottomItem","scrollToOffset","clientSize","scrollSize","scrollToIndex","indexOffset","handleDragEnd","_old","_new","$emit","_updateUniqueKeys","_initVirtual","wrapper","_getDataKey","_handleScroll","handleToTop","handleToBottom","_this","_onItemResized","_onHeaderResized","_onFooterResized","map","obj","_getItemIndex","_getItemStyle","itemKey","display","overflow","padding","ref","on","record","$scopedSlots"],"mappings":"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"}